<ion-view title="Call" hide-back-button="true">
  <ion-nav-buttons side="right">
    <button class="button button-icon icon"
            ng-class="{ 'ion-ios7-mic-off': muted, 'ion-ios7-mic': !muted }"
            ng-click="toggleMute()"
            ng-if="cordova.platformId === 'ios' || cordova.platformId === 'android'"></button>
    <button class="button button-icon icon ion-plus-round" 
            ng-click="openSelectContactModal()"></button>
  </ion-nav-buttons>
  <ion-content on-scroll="updateVideoPosition()" on-scroll-complete="updateVideoPosition()">
    <div class="call-container" ng-if="party==='caller'">
      <p>Calling to <span class="balanced">{{ contactName }}</span>...</p>
      <button class="button button-assertive" ng-click="hangup()">
        Hang Up
      </button>
    </div>

    <div class="call-container" ng-if="party==='callee'">
      <p><span class="balanced">{{ contactName }}</span> is calling you</p>
      <button class="button button-assertive" ng-click="hangup()">
          Hang Up
      </button>
        <button ng-if="!callInProgress" class="button button-positive" ng-click="answer()">
            Answer
        </button>
    </div>


      <video ng-if="false" id="video-test" src="http://v2v.cc/~j/theora_testsuite/320x240.ogg" width="240" height="240" autoplay="true" style="border: solid 1px black"></video>

      <video ng-if="false" id="local-video" src="" width="50" height="50" style="border: solid 1px black"></video>

      <audio id="audio" src="" autoplay></audio>

      <!--<video-view></video-view>-->
  </ion-content>
</ion-view>